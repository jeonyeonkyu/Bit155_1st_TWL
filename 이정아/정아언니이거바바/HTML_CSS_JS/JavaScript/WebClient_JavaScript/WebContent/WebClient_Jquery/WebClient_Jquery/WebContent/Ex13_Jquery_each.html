<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
        table,
        tr,
        td {
            border: 1px solid blue;
            border-collapse: collapse;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
        //$(document).ready(function(){
        //필요에 의해서 쓰는 것 (의무아님)
        //});

        //일반 javascript 함수 만들기
        function javascriptFunc() {
            let arrayobj = [];
            //1. arrayobj 배열에 아래처럼 객체를 추가해보세요

            /*
                101기 홍길동 10
                102기 이정아 29
                103기 구슬기 28
                arrayobj 배열에 객체 형태로 추가
                [{},{},{}]
                ex)[{th: 101기, name: 홍길동, age: 10}] 형식으로 추가하기 위해
                arrayobj.push({th: ..., name: .... age: ....})
                $('table')이면 table을 다 가져오는 것
                $("table > tbody > tr").each() tr을 다 가져오는 것
            */
            $('table > tbody > tr').each(function () {
                //console.log(this); //그냥 javascript 객체
                //console.log($(this).children()); //jquery 함수를 쓸 수 있다.
                //console.log($(this).children().eq(0)); //0번째인 애
                //console.log($(this).children().eq(0).text()); //0번째의 text값을 가져와
                //console.log($(this).children().eq(1).text()); //1번째의 text값을 가져와
                //console.log($(this).children().eq(2).text()); //2번째의 text값을 가져와

                arrayobj.push( //3번 순환하면서 arrabj라는 배열객체에 값을 넣음
                    {
                        th: $(this).children().eq(0).text(),
                        name: $(this).children().eq(1).text(),
                        age: $(this).children().eq(2).text()

                    }
                );

            });
            console.log(arrayobj);
            //최종 결과를 가지고 화면 출력(javascript의 일반 for문을 이용)
            let output = "";
            for (let i = 0; i < arrayobj.length; i++) {
                output += arrayobj[i].th + "," +
                    arrayobj[i].name + "," +
                    arrayobj[i].age + "<br>"; //여기까지 javascript로 뽑아낸 것
            }
            $('#display').append(output); //그리고 jquery로 위에 요구했던 화면으로 보여지게 지정한 것. (화면에 보여지는 것을 컨트롤하는게 Jquery)

            //javascript의 개선된 for문으로
            for (let index in arrayobj) {
                console.log(arrayobj[index].th); //기수 소환
            }

            //jquery의 each문으로 출력
            $.each(arrayobj, function (index, obj) {
                $('#display2').append(obj.th + "," + obj.name + "," + obj.age + "," + "<br>");
            });
        }

    </script>
    <title>Document</title>
</head>

<body>
    <table>
        <thead>
            <tr>
                <td>기수</td>
                <td>이름</td>
                <td>나이</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>101기</td>
                <td>홍길동</td>
                <td>10</td>
            </tr>
            <tr>
                <td>102기</td>
                <td>이정아</td>
                <td>29</td>
            </tr>
            <tr>
                <td>103기</td>
                <td>구슬기</td>
                <td>28</td>
            </tr>
        </tbody>
    </table>
    <p>
        <button onclick="javascriptFunc()">함수 호출</button>
    </p>
    <div id="display"></div>
    <div id="display2"></div>
</body>

</html>