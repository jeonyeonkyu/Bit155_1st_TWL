<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
    /*jQuery.getJSON( url [, data ] [, success ] )
     Description: Load JSON-encoded data from the server using a GET HTTP request.
     데이터 타입이 기본으로 json 함수이다. 서버가 나에게 주는 형식의 데이터가 json임
 
    */

    $(function(){
        $('#btn .btnload').click(function(){ //한칸 띄운거 주의. 아이디가 btn인 것 중에서 btnload를 찾은 것
            $.getJSON("Ex05_json.json",function(data){ //두번째 파라미터를 생략하면(그 값이 sucess라는 가정 하에) 세번째 parameter의  data값으로 가져온 data값을 받는다.
                console.log(data); //데이터를 확인해보면 [{},{},{},{}]로 넘어와있음
                //테이블을 만들어서 let table = "<table>" Table의 td 안에 num, name값을 출력하기
                	//최종 Table display append 하세요
    				//hint) 객체.속성명 or 객체["속성명"]
					let table="<table border='1'>";
            		//each 문사용해서 tr , td 만들고 서버에서 받은 데이터 넣고 ....
            		table+="<tr><th>INDEX</th><th>NUM</th><th>NAME</th></tr>";
            			$.each(data,function(index,obj){
            				//key point
            				//1. 객체.속성명
            				//2. 객체["속성명"]
            				  table+="<tr>";
            				  		table+="<td>" + index + "</td>";
            				  		table+="<td>" + obj.num + "</td>";
            				  		if(obj.num){
            					  		table+="<td>" + obj["Name"] + "</td>";
            				  		}else{
            					 		 table+="<td>" + "EMPTY" + "</td>";
            				 		 }
            				  table+="</tr>";
            			});
            		
            		table+="</table>";
            		
            		$('#display').html(table);
                	//$('#display').append(table); $.each() 사용 html()은 덮어써버린다. append는 뒤로 추가하는 것

            });
        });
    });
    
    </script>

</head>
<body>
    <div id= "btn">
        <div class = "btnload">JSON DATA LOAD</div>
    </div>
    <div id="display">
        <table id = "table">
            <tr>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
</body>
</html>