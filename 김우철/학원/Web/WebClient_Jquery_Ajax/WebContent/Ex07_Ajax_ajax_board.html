<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style type="text/css">
		<style type="text/css" >
	.wrap-loading{ /*화면 전체를 어둡게 합니다.*/
    				position: fixed;
    				left:0;
	    			right:0;
    				top:0;
    				bottom:0;
    				background: rgba(0,0,0,0.2); /*not in ie */
    				filter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#20000000', endColorstr='#20000000');    /* ie */
		}

    .wrap-loading div{ /*로딩 이미지*/
        position: fixed;
        top:50%;
        left:50%;
        margin-left: -21px;
        margin-top: -21px;
    }

    .display-none{ /*감추기*/
        display:none;
    }
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">
		$(function(){
			$.ajax(  //parameter json 객체 ()
					{
						url:"Ex07_Ajax_board.json",
						type:"POST",       //httpReq.open("post")
						dataType:"json", //서버가 응답하는 데이터 형식(Text(json,script,txt,html) , xml) 
						success :function(data){
							//console.log(data);
							$.each(data,function(index,obj){
								$('#treedata').append(obj.id + "/" + obj.name + "/" + obj.title + "/"+obj.content + "<br>");
							});
						},
						error:function(xhr){
							alert(xhr.status); //404 , 500
						}
						,beforeSend:function(){ //서버에서데이터가 가공하고있는 도중에 걸림
				        //(이미지 보여주기 처리)
				        alert("beforeSend");
				        $('.wrap-loading').removeClass('display-none');
					    }
				    	,complete:function(){
				       // (이미지 감추기 처리)
				       alert("complete");
				        $('.wrap-loading').addClass('display-none');
				   		 }
						
						
					}		
			);
		});
	</script>
</head>
<body>
<div class="wrap-loading display-none">
    <div><img src="https://tistory2.daumcdn.net/tistory/1898109/skin/images/Spinner.gif" /></div>
</div>
	<table id="treedata" border="1">
	</table>
</body>
</html>