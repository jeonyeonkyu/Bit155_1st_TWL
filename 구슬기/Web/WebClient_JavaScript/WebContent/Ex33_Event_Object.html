<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>할일 목록 앱</title>
    <style>
        #add-btn{
            padding: 5px 10px;
            border: 0;
            background: #f80; color: white;
            border-radius: 5px;
        }
        ul{ 
            padding: 0; 
            list-style-position: inside;
        }
        li{
            border-bottom: 1px solid #999;
            padding: 5px 0;
        }
        .active{ background: #abc; } /* step3: 목록 클릭 스타일 */
    </style>
</head>
<body>
    
    <h1 id='title'>할일 목록</h1>
    <button id="add-btn">목록 추가</button>
    <ul id='list'>
        <li>제목 1</li>
        <li>제목 2</li>
        <li>제목 3</li>
        <li>제목 4</li>
    </ul>
 
<script>
 
    // 변수 초기화
    var title = document.getElementById('title'); 
    var list = document.getElementById('list'); //Array
    var li = list.getElementsByTagName('li'); //Array
    var addBtn = document.getElementById('add-btn');    // 목록 추가 버튼
 
    // 이벤트리스너
    //list.onclick = activeItem
    list.addEventListener('click', activeItem); 
 
    function activeItem(event){ //event 객체가만들어져서 넘어오면 정보들이 담겨져 있다. 
        // 클릭한 노드가 li이면 
        console.log( event.target); //LI tag 임 
        console.log( event.currentTarget);
        if(event.target.nodeName == 'LI'){
            // event.target은 클릭한 객체(Element)를 의미
            title.innerHTML = event.target.innerText;    
 
            // 목록 스타일 초기화
                               //event.target.parentNode 는 UL 의 아이들의 길이 
            for(var i = 0; i < event.target.parentNode.children.length; i++){
                event.target.parentNode.children[i].removeAttribute('class');
            }//모든 요소에서 클래스를 빼고 
            //event.target.setAttribute('class', 'active'); 여기서 active 넣어준다. 


            // 클릭한 목록 스타일 지정
            event.target.setAttribute('class', 'active'); // 클릭한 대상     에게 active 가 생긴다.         
        }    // end if
    }    // end function        
 
    // 목록 추가
    addBtn.addEventListener('click', function(){
    	
        var txt = prompt('제목 입력'); //prompt(내장함수) 제공받는함수임  
        if(txt != null){
        	list.innerHTML += '<li>' + txt + '</li>';
        }
    });
 
</script>    
 
</body>
</html>