<html>

<head>
<title>회원가입</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<style>
body {
	font-family: "malgun gothic";
	font-size: 9pt;
}

th {
	text-align: right;
	background-color: #dbdbdb
}

th.title {
	text-align: center;
	font-size: 12pt;
	background-color: #ffffff;
}
</style>
</head>

<body>
	<form name="signForm" id="signForm" method="post"
		action="MemberJoinOK.jsp">
		<table>
			<tr>
				<th colspan="2" class="title">회원가입</th>
			</tr>
			<tr>
				<th>아이디</th>
				<td><input type="text" maxlength="20" id="userId" name="userId"
					title="3~16자리의 영문+숫자 조합으로 입력해주세요">
					<div id="idFeedback"></div></td>
				<td class="tdid"></td>
			</tr>

			<tr>
				<th>이름</th>
				<td><input type="text" maxlength="20" id="userName"
					name="userName" title="이름">
					<div id="nameFeedback"></div></td>
			</tr>
			<tr>
				<th>패스워드</th>
				<td><input type="password" maxlength="20" id="userPass"
					name="userPass" title="3~16자리의 영문+숫자 조합으로 입력해주세요">
					<div id="passwordFeedback"></div></td>
				<td class="tdpw"></td>
			</tr>
			<tr>
				<th>패스워드 확인</th>
				<td><input type="password" maxlength="20" id="userPassCheck"
					name="userPassCheck" title="패스워드 확인">
					<div id="passwordCheckFeedback"></div></td>
				<td class="tdpwch"></td>
			</tr>
			<tr>
				<th>성별</th>
				<td><input type="radio" name="gender" value="male" checked>남
					&nbsp;&nbsp; <input type="radio" name="gender" value="female">여
				</td>
			</tr>
			<tr>
				<th>이메일</th>
				<td><input type="text" maxlength="50" id="userEmail"
					name="userEmail" title="이메일">
					<div id="emailFeedback"></div></td>
				<td class="tdmail"></td>
			</tr>
			<tr>
				<th>주민번호</th>
				<td><input type="text" maxlength="6" id="userSsn1"
					name="userSsn1" title="주민번호1"> - <input type="text"
					maxlength="7" id="userSsn2" name="userSsn2" title="주민번호2 ">
					<div id="ssnCheckFeedback"></div></td>
			</tr>
			<tr>
				<th>우편번호</th>
				<td><input type="text" maxlength="10" id="userZipCode"
					name="userZipCode" size="9" title="주소-우편번호"> <input
					type="button" value="우편번호검색" /></td>
			</tr>
			<tr>
				<th>주소1</th>
				<td><input type="text" maxlength="20" size="45" id="userAddr1"
					name="userAddr1" title="주소-기본주소"></td>
			</tr>
			<tr>
				<th>주소2</th>
				<td><input type="text" maxlength="20" size="45" id="userAddr2"
					name="userAddr2" title="주소-상세주소"></td>
			</tr>
			<tr>
				<th>핸드폰번호</th>
				<td><input type="text" size="30" maxlength="20" id="userPhone"
					name="userPhone" title="'010','-'없이 입력하세요">
					<div id="phoneFeedback"></div></td>
				<td class="tdphone"></td>
			</tr>
			<tr>
				<th>취미</th>
				<td><input type="checkbox" name="hobby" value="등산">등산
					&nbsp;&nbsp; <input type="checkbox" name="hobby" value="자전거">자전거
					&nbsp;&nbsp; <input type="checkbox" name="hobby" value="컴퓨터">컴퓨터
					&nbsp;&nbsp; <input type="checkbox" name="hobby" value="영화감상">영화감상
				</td>
			</tr>
			<tr>
				<th>생년월일</th>
				<td><input type="text" name="year"> 년 <select
					name="month">
						<option value="01">01</option>
						<option value="02">02</option>
						<option value="03">03</option>
						<option value="04">04</option>
				</select> 월 <select name="day">
						<option value="01">01</option>
						<option value="02">02</option>
						<option value="03">03</option>
						<option value="04">04</option>
				</select> 일</td>
			</tr>
			<tr>
				<td colspan="2"><input type="submit" value="가입완료"> <input
					type="reset" value="입력취소"></td>
			</tr>
		</table>
	</form>
</body>
<!--  
      조별과제 : 
    jquery 를 사용하여 유효성 검증 코드를 만드시고
    MemberJoinOK.jsp 를 통해서 데이터 받아서 결과 출력하세요
     
    userId : keyup 이벤트  정해진 표현에 맞지 않으면 ID 추가 입력
    ex) let id ="정규표현식" 
    ex) if(id.test($(this).val()) != true) { 확인요청 } else {}
    
    userPass : keyup 이벤트에서 정해진 표현과 일치 하지 않으면 (정규표현 가능)
    
    userPassCheck : keyup  >> userPass 같은 값인지 확인 일치여부 확인
    
    userEmail : keyup 이벤트에서 email 형식과 일치여부 확인
    
    userPhone : keyup 이벤트에서 phone 형식과 일치여부 확인
    
    
    submit 전송시 
    userId , userName, userPass , userPassCheck , userEmail , 
    , userSsn1 , userSsn2 , userZipCode , userPhone
       값이 입력되지 않으면 다시 입력을 요청
  -->
<script>
	$(function() {
		$('#signForm').submit(function() {
			//alert("가입");
			if ($('#userId').val() == "") { // 아이디 검사
				alert('ID를 입력해 주세요.');
				$('#userId').focus();
				return false;
			} else if ($('#userPass').val() == "") { // 비밀번호 검사
				alert('비밀번호를 입력해 주세요.');
				$('#userPass').focus();
				return false;
			} else if ($('#userPassCheck').val() == "") { // 비밀번호2 검사
				alert('비밀번호 확인을 입력해 주세요.');
				$('#userPassCheck').focus();
				return false;
			} else if ($('#userName').val() == "") { // 이름 검사
				alert('name를 입력해 주세요.');
				$('#userName').focus();
				return false;
			} else if ($('#userEmail').val() == "") { // 이메일 검사
				alert('email를 입력해 주세요.');
				$('#userEmail').focus();
				return false;
			} else if ($('#userSsn1').val() == "") { // 주민 앞자리 검사
				alert('email를 입력해 주세요.');
				$('#userSsn1').focus();
				return false;
			} else if ($('#userSsn2').val() == "") { // 주민 뒷자리 검사
				alert('email를 입력해 주세요.');
				$('#userSsn2').focus();
				return false;
			} else if ($('#userPhone').val() == "") { // 핸드폰 검사
				alert('주소를 입력해 주세요.');
				$('#userPhone').focus();
				return false;
			}
		});

		/* $('#signForm').submit(function () {
			return Fun('#userId',"아이디 입력해");
		})
		
		function Fun(value,error) {
			if($(value).val() == ""){
				alert(error);
				$(this).focus();
				return false;
			}
		} */

		var id = /^[a-zA-z0-9]{4,12}$/; //아이디 패스워드 같이, 영문 대소문자 숫자 4~12자리
		var name = /^[가-힣]{2,4}$/; //한글이름 2~4글자이면 됨
		var pwd = /^[a-zA-z0-9]{4,12}$/; // 비밀번호는 영문 대소문자와 숫자 4~12자리
		var email = /^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/; //"*@*.*) 이메일 양식
		var ssn1 = /^[0123456789]{6}$/;
		var ssn2 = /^[0123456789]{7}$/;
		var phone = /^(01[01679]{1})[-.\s]([0-9]{3,4})[-.\s]?([0-9]{4})$/;

		//정규표현식을 체크하는 함수를 선언하시오
		function regCheck(reg, value, feedback, error) {

			if (reg.test(value) != true) {

				$(feedback).show().text(error).css('background-color', 'red')

			} else {

				$(feedback).hide();
			}
		}
		;

		$('#userId').keyup(
				function() {
					regCheck(id, $(this).val(), '#idFeedback',
							"영문 대소문자 숫자 4~12자리로 입력하세요");
				});

		$('#userName').keyup(
				function() {
					regCheck(name, $(this).val(), '#nameFeedback',
							"이름은 2~4 글자로 입력하세요.");
				})

		$('#userPass').keyup(
				function() {
					regCheck(pwd, $(this).val(), '#passwordFeedback',
							"영문 대소문자 숫자 4~12자리로 입력하세요");
				})

		$('#userPassCheck').keyup(
				function() {
					if ($('#userPass').val() != $('#userPassCheck')) {
						$(passwordCheckFeedback).show().text("비밀번호가 다릅니다.")
								.css('background-color', 'tomato');

					} else {
						$(passwordCheckFeedback).hide();
					}

				})

		$('#userSsn1').keyup(function() {
			regCheck(ssn1, $(this).val(), '#ssnCheckFeedback', "6자리 입력하시오.");
		})

		$('#userSsn2').keyup(function() {
			regCheck(ssn2, $(this).val(), '#ssnCheckFeedback', "7자리 입력하세요.");
		})

		$('#userPhone').keyup(
				function() {
					regCheck(phone, $(this).val(), '#phoneFeedback',
							"000-0000-0000 형식으로 입력하세여");
				})
		$('#userEmail').keyup(
				function() {
					regCheck(email, $(this).val(), '#emailFeedback',
							"zzzz@zzzzz.zzz 형식으로 맞춰서 써주세요.");
				})

	});
</script>


</html>