<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>이벤트 핸들러</title>
 
</head>
<body>
    <form id="frm">
        <fieldset>
            <legend>주소록</legend>
            <textarea name="txt" id="txt" cols="30" rows="10"></textarea><br>
            <input type="submit" id="q" value="불러오기">
        </fieldset>
    </form>
 
    <script>
        var address = ["김철수", "email: kcs@gmail.com"];
 
        // 폼 객체 지정
        var q = document.getElementById('frm');
 
        function addr_search(event){
            var textarea = q.txt;
 
            // textarea에 주소록 표시
            textarea.value = '이름 / 주소 \n';
            textarea.value += address[0] + ', ' + address[1] + '\n';
        	
           //document.frm.submit();
        }
 
        // 폼 제출시
        q.addEventListener('submit', function(event){
           event.preventDefault();    // 기본 이벤트 해제
           //submit이 갖고있는 기본이벤트인 전송을 해제시킨다.
           //그러면 텍스트 폼안의  // 이름 / 주소 김철수, email: kcs@gmail.com 이게 날라가지 않음.
           //.preventDefault()  이걸 보면 "이 엘리먼트가 갖고있는 기본 이벤트는 해지하고 다른걸 걸어놨구나!"" 하고 알면된다. 

            addr_search();    // 주소록 불러오기
        });
    </script>
</body>
 
</html>