<!DOCTYPE html>
<html>
<head>
<title>ECMA 표준정의</title>   
</head>
<body>
  
</body>

<script>
    //https://velog.io/@ki_blank/JavaScript-%ED%99%94%EC%82%B4%ED%91%9C-%ED%95%A8%EC%88%98Arrow-function
    //일반함수
    //var foo = function(){console.log("foo")}

    //화살표 함수
    //var bar = ()=>console.log("bar");

    //매개변수가 없는 경우
    var foo = () => console.log("bar");
    foo();

    //매개변수가 하나인 경우
    var foo2 = x => x;    //var foo2 = function(x){x}
    foo2("bar");

    //매개변수가 여러개인 경우
    var foo3 =(a,b) => {return a + b};
    foo3(1,2);

    //매개변수 여러개이고 리턴이 없는 경우
    //var foo4 = (a,b) =>{a + b};
    //foo4(1,2); undefined

    var foo4 = (a,b) => {
        var c = 3;
        return a+b+c;
    }

    //객체를 반환할때
    var foo5 = () => ( {a:1 , b:2 , c:3});
    foo5();


    //즉시 실행 함수표현
    (
        function(){
                //expression;
        }()
    );

    // 즉시 실행 화살표 함수
    (
        () => {
    //expression
    })();


   /*  Arrows(화살표) 함수는 => 문법을 사용하는 축약형 함수입니다. 
       C#, Java 8, CoffeeScript의 해당 기능과 문법적으로 유사합니다. 
       Arrows는 표현식의 결과 값을 반환하는 표현식 본문(expression bodies)뿐만 아니라 
       상태 블럭 본문(statement block bodies)도 지원합니다.    
       
       https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/%EC%95%A0%EB%A1%9C%EC%9A%B0_%ED%8E%91%EC%85%98
        */


    //표현식의 결과가 반환됨
    var evens = [2,4,6,8];
    var odds = evens.map(v => v + 1);
    console.log(odds);
    var nums = evens.map((v,i)=> v + i);
    //i 배열의 index
    //2+0
    //4+1
    //6+2
    //8+3
    console.log(nums)
    
    var pairs = evens.map(v => ({even:v, odd:v+1}));
    console.log(pairs);
    console.log(pairs[0].even);
    console.log(pairs[0].odd);
    /*
       [{even:2, odd:3},{},{},{}]
    */

    //Statement bodies (블럭 내부를 실행만 함, 반환을 위해선 return을 명시)
    var fives = [];
    evens.forEach(v => {
        if(v % 2 === 0){
           fives.push(v);
        }
    });

    console.log(fives);

   //json 객체생성
   var bob = {
        _name:"Bob",
        _friends:["John, Brain","world","홍길동"],
        printFriends(){
            this._friends.forEach(f=> console.log(this._name + " knows " + f));
        }       
   }

   bob.printFriends();

   var materials = [
    'Hydrogen',
    'Helium',
    'Lithium',
    'Beryllium'
    ];

    materials.map(function(material) { 
    return material.length; 
    }); // [8, 6, 7, 9]

    // 위에 있는 함수를 화살표 함수를 이용해 아래와 같이 표현할 수 있다
    materials.map((material) => {
    return material.length;
    }); // [8, 6, 7, 9]

    materials.map(({length}) => length); // [8, 6, 7, 9]




    const arr = [0,1,2,3,4,5,6,7,8,9,10];

    arr.forEach(function(element){
        console.log(element); // 0 1 2 3 4 5 6 7 8 9 10
    });
    // 혹은 arrow 함수 가능
    arr.forEach(element => console.log(element));
</script>
</html>