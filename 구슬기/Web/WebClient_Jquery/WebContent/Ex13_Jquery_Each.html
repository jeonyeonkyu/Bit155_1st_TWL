<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style type="text/css">
table, tr, td {
	border: 1px solid gold;
	border-collapse: collapse;
}
</style>
<title>each   선택자로 테이블안의 정보 읽어오기 </title>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">

	//$(document).ready(function(){});
		// 필요에 의해서 사용
		
	//일반 javascript 함수
	function  javascriptFunc() {
		let arrayobj=[];
		//1. arrayobj 배열에 아래 처럼 객체를 추가해 보세요
		/*
		101th 홍길동 10
		102th 김유신 20
		103th 유관순 30
		
		arrayobj 배열 객체 형태로 추가
		[{},{},{}]
		ex) [{th:101th,name:홍길동,age:10},]  이런식으로
		ex) arrayobj.pusth({th:.., name:.., age:..})
		$('table')이면 table을 다 가져오는 것
		$("table>tbody>tr").each()  이렇게 한바퀴돌때 길동이 tr이 넘어온다. 그안의 td를 읽어오면 된다 
		*/
		$("table > tbody > tr").each(function () {
			//console.log(this);
			//console.log($(this).children()); //<td>   .... </td>
			//console.log($(this).children().eq(0));
			console.log($(this).children().eq(0).text()); //tr 자식중 첫번째 자식의 텍스트를 가져와
			console.log($(this).children().eq(1).text()); 
			console.log($(this).children().eq(2).text()); 
			
			arrayobj.push(  //3번 순환한다 
					{
						th:$(this).children().eq(0).text(),
						name:$(this).children().eq(1).text(),
						age:$(this).children().eq(2).text()
					}
			);
		});
			console.log(arrayobj);
			
			//2. 최종 결과를 가지고 화면 출력(javascript for 문)
			let output="";
			for(let i=0;i<arrayobj.length ; i++){
				output += arrayobj[i].th + "," +
				 		  arrayobj[i].name + "," +
				 		  arrayobj[i].age + "<br>" ;
			}
			$('#display').append(output);
			
			//javaScript 개선된 for 문 사용해서 출력
			for(var index in arrayobj){
				console.log(arrayobj[index].th);
			}
			
			//3. jquery each 문으로 출력하세요
			$(arrayobj).each(function (index) {
				var a = index;
				$('#display').append(a);
			})
			//3번 답 (선생님꺼)
			$.each(arrayobj,function(index,obj){
				$('#display2').append(obj.th +","+obj.name +","+obj.age+","+"<br>");
			})
	}
		
	
	
</script>
</head>
<body>
	<table>
		<thead>
			<tr>

				<td>기수</td><td>이름</td><td>번호</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>101th</td><td>홍길동</td><td>10</td>
			</tr>

			<tr>
				<td>102th</td><td>김유신</td><td>20</td>
			</tr>

			<tr>
				<td>103th</td><td>유관순</td><td>30</td>
			</tr>
		</tbody>
	</table>
	<p>
		<button onclick="javascriptFunc()">함수 호출 슬기슬기</button>
	</p>
	<div id="display"></div>
	<div id="display2"></div>
</body>
</html>